#include <stdio.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>
#include <arpa/inet.h>
#include <sys/socket.h>

int main(){
	char *argv[101] = {"/home/input2/input", [1 ... 99] = "A", NULL};
	argv['A'] = "\x00";
	argv['B'] = "\x20\x0a\x0d";

	int fd_0[2];
	int fd_2[2];

	pid_t child;

	if (pipe(fd_0)<0||pipe(fd_2)<0)
	{
		perror("error");
	}

	write(fd_0[1],"\x00\x0a\x00\xff",4);
	write(fd_0[1],"\x00\x0a\x02\xff",4);
	dup2(fd_0[0],0);
	dup2(fd_0[0],2);

	char *buff = "\x00\x00\x00\x00";
	FILE *fp = fopen("\x0a", "w");
	fwrite(buf, sizeof(buf) , 1, fp );
	fclose(fp);

	char *envp[2] = {"\xde\xad\xbe\xef=\xca\xfe\xba\xbe", NULL};
	execve("/home/input2/input",argv,envp);

	return 0;
}
